{% extends "base.html.twig" %}

{% block body %}

	<h1 class="text-center mt-3 ">{{ categorie.name | capitalize }}</h1>

	{% for article in articles %}
		<div class="row">
			<div class="mx-auto col-8">

				<hr>
				<a href="{{ path('show_article', {'cat_alias': article.category.alias, 'article_alias': article.alias, 'id': article.id}) }}" class="text-dark text-decoration-none">

					<div class="mx-auto card mb-3">
						<div class="row g-0">
							<div class="col-md-4">
								<img src="{{ asset('uploads/') ~ article.photo}}" class="card-img-top img-card-custom" width="230" height="130" alt="{{ article.title }}">
							</div>
							<div class="col-md-8">
								<div class="card-body">
									<h5 class="card-title">{{ article.title | length > 30 ? article.title | slice(0, 30) ~ '...' : article.title }}</h5>
									<p class="card-text">
										<span>{{ article.subtitle | length > 40 ? article.subtitle | slice(0, 40) ~ '...' : article.subtitle }}</p>
									</p>
									<p class="card-text">
										<small class="text-muted">Dernière mise à jour
											{{ article.updateAt | date('d/m/Y à H:i')}}</small>
										<span class="text-muted">
											| Auteur :
											{{ article.author.prenom }}
											{{ article.author.nom }}</span>
									</p>
									<a href="{{ path('show_article', {'cat_alias': article.category.alias | lower, 'article_alias': article.alias | lower, 'id': article.id }) }}" class="btn btn-warning">Voir l'article</a>
								</div>
							</div>
						</div>
					</div>
				</a>

			</div>
		</div>
	{% else %}
		
		<div class="row">
			<div class="mx-auto col-10">
				<p class="alert alert-info text-center">La catégorie {{categorie.name}} ne contient pas encore d'article</p>
			</div>
		</div>

	{% endfor %}

{% endblock %}
