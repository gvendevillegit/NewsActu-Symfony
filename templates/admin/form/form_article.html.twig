{% extends 'base.html.twig' %}

{% block body %}

 <div class="row">
     <div class="col-12">
        {% if article is defined %}
            <h1 class="text-center">Modifier un article</h1>
        {% else %}
            <h1 class="text-center">Ajouter un article</h1>
        {% endif %}
     </div>
 </div>

 <div class="row">
     <div class="col8 mx-auto">
     
        {# 1ère façon : affichage global du formulaire #}
        {# {{ form(form) }} #}

        {# 2éme façon : affichage détaillé du form, input par input #}
        {{ form_start(form, {'attr' : {novalidate: 'novalidate'}} ) }}
        
            <div class="mb-3">
                {{ form_row(form.title) }}
            </div>

            <div class="mb-3">
                {{ form_row(form.subtitle) }}
            </div>

            <div class="mb-3">
                {{ form_row(form.content) }}
            </div>

            <div class="mb-3">
                {{ form_row(form.category) }}
            </div>

            <div class="mb-3">
                {{ form_row(form.photo) }}
            </div>

            <div class="mb-3">
                {% if article is defined and article.photo is not null %}
                    <div class="col-6">
                        <img src="{{ asset('uploads/') ~ article.photo }}" alt="" class="img-fluid">
                    </div>
                {% endif %}
            </div>

            {% if article is defined %}
                <button type="sublmit" class="d-block col-2 mx-auto btn btn-warning mb-3">Modifier</button>
            {% else %}
                <button type="sublmit" class="d-block col-2 mx-auto btn btn-warning mb-3">Publier</button>
            {% endif %}

            {{ form_end(form) }}
     </div>
 </div>

{% endblock %}